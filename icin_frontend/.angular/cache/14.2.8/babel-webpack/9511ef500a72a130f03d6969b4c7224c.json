{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"src/app/services/accounts.service\";\nimport * as i4 from \"src/app/services/cheque.service\";\nimport * as i5 from \"src/app/services/transaction.service\";\nimport * as i6 from \"@angular/common\";\n\nfunction SavingAccountDetailsComponent_ng_container_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 38);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.withdrawalErrorMessage, \" \");\n  }\n}\n\nfunction SavingAccountDetailsComponent_ng_container_64_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 39);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r4.transferErrorMessage, \" \");\n  }\n}\n\nfunction SavingAccountDetailsComponent_tr_81_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const th_r6 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(th_r6.from);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(th_r6.fromAccount);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(th_r6.to);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(th_r6.toAccount);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(th_r6.amount);\n  }\n}\n\nexport let SavingAccountDetailsComponent = /*#__PURE__*/(() => {\n  class SavingAccountDetailsComponent {\n    constructor(router, formBuilder, service, chequeService, transactionService) {\n      this.router = router;\n      this.formBuilder = formBuilder;\n      this.service = service;\n      this.chequeService = chequeService;\n      this.transactionService = transactionService;\n      this.saving = true;\n      this.withdrawalFailed = false;\n      this.withdrawalErrorMessage = \"\";\n      this.transferFailed = false;\n      this.transferErrorMessage = \"\";\n    }\n\n    ngOnInit() {\n      this.accountId = sessionStorage.getItem(\"savingAccountId\");\n      this.userFirstname = sessionStorage.getItem(\"firstname\");\n      this.userId = sessionStorage.getItem(\"id\");\n      this.service.getAccountBalance(this.accountId).subscribe(response => {\n        this.balance = response;\n      }, error => {\n        console.log(error);\n      });\n      this.transactionService.getTransactionHistory(Number(this.accountId)).subscribe(response => {\n        this.transactionHistory = response;\n      }, error => {\n        console.log(error);\n      });\n    }\n\n    makeDeposit(data) {\n      let depositAmount = data.depositAmount;\n      let db = new DepositBody(Number(this.userId), depositAmount, this.saving);\n      this.service.deposit(db).subscribe(response => {\n        window.location.reload();\n      }, error => {\n        console.log(error);\n      });\n    }\n\n    makeWithdrawal(data) {\n      let withdrawalAmount = data.withdrawalAmount;\n      let wb = new WithdrawalBody(Number(this.userId), withdrawalAmount, this.saving);\n      this.service.withdrawal(wb).subscribe(response => {\n        window.location.reload();\n      }, error => {\n        this.withdrawalFailed = true;\n        console.log(error);\n        this.withdrawalErrorMessage = error.error.errorMessage;\n      });\n    }\n\n    makeTransfer(data) {\n      let firstnameTo = data.firstnameTo;\n      let lastnameTo = data.lastnameTo;\n      let transferAmount = data.transferAmount;\n      let toSaving = data.accountTo == \"saving\" ? true : false;\n      let tb = new TransferBody(Number(this.userId), firstnameTo, lastnameTo, transferAmount, this.saving, toSaving);\n      this.service.transfer(tb).subscribe(response => {\n        window.location.reload();\n      }, error => {\n        this.transferFailed = true;\n        console.log(error);\n        this.transferErrorMessage = error.error.errorMessage;\n      });\n    }\n\n  }\n\n  SavingAccountDetailsComponent.ɵfac = function SavingAccountDetailsComponent_Factory(t) {\n    return new (t || SavingAccountDetailsComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.AccountsService), i0.ɵɵdirectiveInject(i4.ChequeService), i0.ɵɵdirectiveInject(i5.TransactionService));\n  };\n\n  SavingAccountDetailsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SavingAccountDetailsComponent,\n    selectors: [[\"app-saving-account-details\"]],\n    decls: 82,\n    vars: 5,\n    consts: [[\"role\", \"alert\", 1, \"alert\", \"alert-primary\"], [1, \"container\"], [1, \"row\"], [1, \"col-sm\"], [1, \"account-container\"], [1, \"top-section\"], [1, \"balance\", \"float-right\"], [1, \"account\", \"type\"], [\"data-toggle\", \"collapse\", \"href\", \"#depositForm\", \"role\", \"button\", \"aria-expanded\", \"false\", \"aria-controls\", \"depositForm\", 1, \"btn\", \"btn-success\"], [\"id\", \"depositForm\"], [1, \"card\", \"card-body\"], [\"clas\", \"form-inline\", 3, \"ngSubmit\"], [\"depositForm\", \"ngForm\"], [1, \"form-group\", \"mx-sm-3\", \"mb-2\"], [\"type\", \"number\", \"id\", \"depositAmount\", \"name\", \"depositAmount\", \"placeholder\", \"Deposit Amount\", \"ngModel\", \"\", 1, \"form-control\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"mb-2\"], [\"data-toggle\", \"collapse\", \"href\", \"#withdrawalForm\", \"role\", \"button\", \"aria-expanded\", \"false\", \"aria-controls\", \"withdrawalForm\", 1, \"btn\", \"btn-warning\"], [\"id\", \"withdrawalForm\"], [\"withdrawalForm\", \"ngForm\"], [\"type\", \"number\", \"id\", \"withdrawalAmount\", \"name\", \"withdrawalAmount\", \"placeholder\", \"Withdrawal Amount\", \"ngModel\", \"\", 1, \"form-control\"], [4, \"ngIf\"], [\"data-toggle\", \"collapse\", \"href\", \"#transferForm\", \"role\", \"button\", \"aria-expanded\", \"false\", \"aria-controls\", \"transferForm\", 1, \"btn\", \"btn-primary\"], [\"id\", \"transferForm\"], [\"transferForm\", \"ngForm\"], [\"type\", \"test\", \"id\", \"firstnameTo\", \"name\", \"firstnameTo\", \"placeholder\", \"Receiver's First name\", \"ngModel\", \"\", 1, \"form-control\"], [\"type\", \"test\", \"id\", \"lastnameTo\", \"name\", \"lastnameTo\", \"placeholder\", \"Receiver's Last name\", \"ngModel\", \"\", 1, \"form-control\"], [\"type\", \"number\", \"id\", \"transferAmount\", \"name\", \"transferAmount\", \"placeholder\", \"Transfer Amount\", \"ngModel\", \"\", 1, \"form-control\"], [1, \"form-check\", \"form-check-inline\"], [\"type\", \"radio\", \"name\", \"accountTo\", \"id\", \"accountTo\", \"value\", \"checking\", \"ngModel\", \"\", 1, \"form-check-input\"], [\"for\", \"inlineRadio1\", 1, \"form-check-label\"], [\"type\", \"radio\", \"name\", \"accountTo\", \"id\", \"accountTo\", \"value\", \"saving\", \"ngModel\", \"\", 1, \"form-check-input\"], [\"for\", \"inlineRadio2\", 1, \"form-check-label\"], [\"role\", \"alert\", 1, \"alert\", \"alert-secondary\"], [1, \"table\"], [1, \"thead-bright\"], [\"scope\", \"col\"], [\"scop\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [\"role\", \"alert\", 1, \"alert\", \"alert-warning\"], [\"role\", \"alert\", 1, \"alert\", \"alert-danger\"]],\n    template: function SavingAccountDetailsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r8 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtext(1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"div\", 1)(3, \"div\", 2)(4, \"div\", 3)(5, \"div\", 4)(6, \"div\", 5)(7, \"div\", 6);\n        i0.ɵɵtext(8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"div\", 7);\n        i0.ɵɵtext(10, \"Savings Balance:\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelement(11, \"br\");\n        i0.ɵɵelementStart(12, \"div\", 4)(13, \"p\")(14, \"a\", 8);\n        i0.ɵɵtext(15, \" Deposit Funds \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(16, \"div\", 9)(17, \"div\", 10)(18, \"form\", 11, 12);\n        i0.ɵɵlistener(\"ngSubmit\", function SavingAccountDetailsComponent_Template_form_ngSubmit_18_listener() {\n          i0.ɵɵrestoreView(_r8);\n\n          const _r0 = i0.ɵɵreference(19);\n\n          return i0.ɵɵresetView(ctx.makeDeposit(_r0.value));\n        });\n        i0.ɵɵelementStart(20, \"div\", 13);\n        i0.ɵɵelement(21, \"input\", 14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"button\", 15);\n        i0.ɵɵtext(23, \"Submit\");\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelement(24, \"br\");\n        i0.ɵɵelementStart(25, \"div\", 4)(26, \"p\")(27, \"a\", 16);\n        i0.ɵɵtext(28, \" Withdraw Funds \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(29, \"div\", 17)(30, \"div\", 10)(31, \"form\", 11, 18);\n        i0.ɵɵlistener(\"ngSubmit\", function SavingAccountDetailsComponent_Template_form_ngSubmit_31_listener() {\n          i0.ɵɵrestoreView(_r8);\n\n          const _r1 = i0.ɵɵreference(32);\n\n          return i0.ɵɵresetView(ctx.makeWithdrawal(_r1.value));\n        });\n        i0.ɵɵelementStart(33, \"div\", 13);\n        i0.ɵɵelement(34, \"input\", 19);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(35, \"button\", 15);\n        i0.ɵɵtext(36, \"Submit\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵtemplate(37, SavingAccountDetailsComponent_ng_container_37_Template, 3, 1, \"ng-container\", 20);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(38, \"br\");\n        i0.ɵɵelementStart(39, \"div\", 4)(40, \"p\")(41, \"a\", 21);\n        i0.ɵɵtext(42, \" Transfer Funds \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(43, \"div\", 22)(44, \"div\", 10)(45, \"form\", 11, 23);\n        i0.ɵɵlistener(\"ngSubmit\", function SavingAccountDetailsComponent_Template_form_ngSubmit_45_listener() {\n          i0.ɵɵrestoreView(_r8);\n\n          const _r3 = i0.ɵɵreference(46);\n\n          return i0.ɵɵresetView(ctx.makeTransfer(_r3.value));\n        });\n        i0.ɵɵelementStart(47, \"div\", 13);\n        i0.ɵɵelement(48, \"input\", 24);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(49, \"div\", 13);\n        i0.ɵɵelement(50, \"input\", 25);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(51, \"div\", 13);\n        i0.ɵɵelement(52, \"input\", 26);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(53, \"div\", 13)(54, \"div\", 27);\n        i0.ɵɵelement(55, \"input\", 28);\n        i0.ɵɵelementStart(56, \"label\", 29);\n        i0.ɵɵtext(57, \"To Checking\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(58, \"div\", 27);\n        i0.ɵɵelement(59, \"input\", 30);\n        i0.ɵɵelementStart(60, \"label\", 31);\n        i0.ɵɵtext(61, \"To Saving\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(62, \"button\", 15);\n        i0.ɵɵtext(63, \"Submit\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵtemplate(64, SavingAccountDetailsComponent_ng_container_64_Template, 3, 1, \"ng-container\", 20);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(65, \"div\", 4)(66, \"div\", 32);\n        i0.ɵɵtext(67, \"Transfer History\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(68, \"table\", 33)(69, \"thead\", 34)(70, \"tr\")(71, \"th\", 35);\n        i0.ɵɵtext(72, \"From\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(73, \"th\", 35);\n        i0.ɵɵtext(74, \"From Account\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(75, \"th\", 35);\n        i0.ɵɵtext(76, \"To\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(77, \"th\", 35);\n        i0.ɵɵtext(78, \"To Account\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(79, \"th\", 36);\n        i0.ɵɵtext(80, \"Amount\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵtemplate(81, SavingAccountDetailsComponent_tr_81_Template, 11, 5, \"tr\", 37);\n        i0.ɵɵelementEnd()()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\" Hello! \", ctx.userFirstname, \", Here details of your saving account.\\n\");\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate1(\"$ \", ctx.balance, \"\");\n        i0.ɵɵadvance(29);\n        i0.ɵɵproperty(\"ngIf\", ctx.withdrawalFailed);\n        i0.ɵɵadvance(27);\n        i0.ɵɵproperty(\"ngIf\", ctx.transferFailed);\n        i0.ɵɵadvance(17);\n        i0.ɵɵproperty(\"ngForOf\", ctx.transactionHistory);\n      }\n    },\n    dependencies: [i6.NgForOf, i6.NgIf, i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NumberValueAccessor, i2.RadioControlValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.NgModel, i2.NgForm],\n    styles: [\"body[_ngcontent-%COMP%]{background-color:#fdf5e6}.account-container[_ngcontent-%COMP%]{margin-top:10%;color:orange;padding:0;background:white}.top-section[_ngcontent-%COMP%]{font-size:2.5em;background-color:#babcc2;padding:5%;color:#031c63}.bottom-section[_ngcontent-%COMP%]{padding:2% 5%;color:#048ec4}hr[_ngcontent-%COMP%]{padding:0%;margin:0%}.transaction[_ngcontent-%COMP%]{margin-top:22%;background-color:#fff;padding:0}.transaction[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.7em}\"]\n  });\n  return SavingAccountDetailsComponent;\n})();\n\nclass TransferBody {\n  constructor(userId, firstnameTo, lastnameTo, amount, fromSaving, toSaving) {\n    this.userIdFrom = userId;\n    this.firstnameTo = firstnameTo;\n    this.lastnameTo = lastnameTo;\n    this.amount = amount;\n    this.fromSaving = fromSaving;\n    this.toSaving = toSaving;\n  }\n\n}\n\nclass DepositBody {\n  constructor(userId, amount, saving) {\n    this.userId = userId;\n    this.amount = amount;\n    this.saving = saving;\n  }\n\n}\n\nclass WithdrawalBody {\n  constructor(userId, amount, saving) {\n    this.userId = userId;\n    this.amount = amount;\n    this.saving = saving;\n  }\n\n}","map":null,"metadata":{},"sourceType":"module"}